(function(_ds){var window=this;var dBa=function(){return(0,_ds.T)('<span class="devsite-var-input-wrapper"><button class="material-icons devsite-icon-close" tabindex="-1"></button></span>')},eBa=function(){return(0,_ds.T)('<input class="devsite-var-input" type="text" translate="no" spellcheck="false">')},fBa=function(a){return(0,_ds.T)('<span class="devsite-var-wrapper"><var spellcheck="false" is-upgraded>'+_ds.U(a.placeholder)+"</var></span>")},gBa=function(){return(0,_ds.T)('<button class="material-icons devsite-icon-edit" tabindex="-1"></button>')};var N8=function(){return"devsite-var"},hBa=async function(a){a.j=a.innerText;var b=a.getAttribute("label");b||(a.setAttribute("label",a.j),b=a.j);a.ra=b;b=_ds.el(a,"devsite-code");a:{if(a.classList.contains("no-scope"))a.removeAttribute("scope");else if(!a.hasAttribute("scope")&&b){var c=!0;break a}c=!1}c&&a.setAttribute("scope",a.j);b&&(await customElements.whenDefined("devsite-code"),await b.whenReady());_ds.M(a,fBa,{placeholder:a.innerText});a.h=a.querySelector("var");(c=a.getAttribute("scope"))&&
(c=await (await _ds.t()).getStorage().get(N8(),c))&&a.h&&(a.h.innerText=c);if(O8(a,b)){b=_ds.N(gBa);_ds.Ik(a.h,b,1);b=a.querySelector(".devsite-var-wrapper");a.v=_ds.N(dBa);_ds.Ik(b,a.v,0);a.g=_ds.N(eBa);a.setAttribute("tabindex","0");let d;null==(d=a.h)||d.setAttribute("data-title",`${"Edit"} ${a.ra}`);let e;null==(e=a.h)||e.setAttribute("aria-label",`${"Edit"} ${a.ra}`)}a.removeAttribute("label")},O8=function(a,b){if(a.classList.contains("edit"))return!0;if(b){const c=b.querySelector("pre");return!b.hasAttribute("no-copy")&&
!(null==c?0:c.classList.contains("readonly"))&&!a.classList.contains("readonly")}return!1},kBa=function(a){a.eventHandler.listen(a,"focusin",()=>{a.hasAttribute("active")||(a.setAttribute("active",""),_ds.Ik(a.v,a.g,0),a.g&&(a.g.value=a.innerText,a.g.select()),a.setAttribute("tabindex","-1"))});a.g&&(a.eventHandler.listen(a.g,"focusout",()=>{a.removeAttribute("active");a.v&&a.g&&a.v.removeChild(a.g);a.setAttribute("tabindex","0")}),a.eventHandler.listen(a.g,"change",b=>{iBa(a,b.target.value);jBa(a)}));
a.eventHandler.listen(a,"keydown",b=>{if(13===b.keyCode||27===b.keyCode){let c;null==(c=a.g)||c.blur()}});a.eventHandler.listen(a,"input",b=>{if(!a.xa){if(a.hasAttribute("scope")){var c=a.getAttribute("scope");a.ea=[...document.querySelectorAll(`devsite-var[${"scope"}="${c}"]`)]}else a.ea=[a];a.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:{category:"Site-Wide Custom Events",action:"New Placeholder Edited",label:a.j,value:a.ea.length},bubbles:!0}));c={eventData:JSON.stringify({name:"New Placeholder Edited".replace(/\s/g,
""),type:"editablePlaceholderVariable",metadata:{"var":a.j,varsInScope:a.ea.length}})};a.dispatchEvent(new CustomEvent("devsite-analytics-observation-cloudtrack",{detail:c,bubbles:!0}));a.xa=!0}b=b.target.value;for(const d of a.ea)d.setAttribute("value",b)})},iBa=async function(a,b){(a=a.getAttribute("scope"))&&await (await _ds.t()).getStorage().set(N8(),a,b)},jBa=async function(a){lBa(a);if(a.oa){const b=new _ds.yf;let c;null==(c=a.h)||c.setAttribute("aria-label","Variable updated for current session");
_ds.An(a.eventHandler,a.oa,"transitionend",()=>{b.g()});await b.promise;_ds.An(a.eventHandler,a.oa,"transitionend",()=>{let d;null==(d=a.h)||d.setAttribute("aria-label",`${"Edit"} ${a.ra}`)})}},lBa=function(a){var b="Variable updated for current session";a.dispatchEvent(new CustomEvent("devsite-show-custom-snackbar-msg",{detail:{msg:b,showClose:!1},bubbles:!0}))},P8=class extends _ds.C{constructor(){super(["devsite-code","devsite-snackbar"]);this.eventHandler=new _ds.F(this);this.xa=!1;this.ra=this.j=
"";this.oa=this.g=this.v=this.h=null;this.ea=[]}static get observedAttributes(){return["value"]}async connectedCallback(){if(!this.hasAttribute("ready")){this.setAttribute("ready","");var a=this.querySelector("var");if(a)for(const b of a.attributes)this.setAttribute(b.name,b.value);await hBa(this)}a=_ds.el(this,"devsite-code");O8(this,a)&&kBa(this);this.oa=document.querySelector("devsite-snackbar")}attributeChangedCallback(a,b,c){a=this.querySelector("var");(null==a?0:a.lastElementChild)?(b=a.lastElementChild,
a.innerText=c?c:"",a.appendChild(b)):a&&(a.innerText=c?c:"")}disconnectedCallback(){_ds.H(this.eventHandler)}};P8.prototype.disconnectedCallback=P8.prototype.disconnectedCallback;P8.prototype.attributeChangedCallback=P8.prototype.attributeChangedCallback;P8.prototype.connectedCallback=P8.prototype.connectedCallback;P8.getTagName=N8;try{customElements.define(N8(),P8)}catch(a){console.warn("devsite.app.CustomElement.DevsiteVar",a)};})(_ds_www);
